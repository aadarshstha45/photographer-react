import{m as z,r as s,l as K,k as L,j as a,F as h,n as O,L as E,I as N,T as r,S as W,H as _}from"./index-BCCTcgx6.js";import{A as R}from"./index-Gd0AZThX.js";import{I as B,a as H}from"./Plus-BKTAK1hg.js";import{S as U}from"./StatusSwitch-rGlFPW9r.js";import{D as G,S as $}from"./Table-DqyrWlvT.js";import{D as q}from"./DeleteAlert-DLY7ssEy.js";import{u as J,a as M}from"./service-category-C9vO8KfB.js";import"./Trash-BrfYktzD.js";import"./service-form-methods-D_Zmy-SD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./inputProps-D-yLYbQ0.js";import"./lodash-3m1QihGc.js";import"./modal-overlay-BNaY8ztX.js";import"./tslib.es6-KGZ4s6vb.js";const de=()=>{var g,p,u,x;const f=z(),S=new URLSearchParams(f.search),n=Number(S.get("page"))||1,[l,j]=s.useState(1),[i,Q]=s.useState(10);s.useEffect(()=>{j(n)},[n]);const{data:e,isPending:b}=J({page:n,perPage:i}),D=K(),[c,o]=s.useState(null),[y,d]=s.useState(""),{isOpen:C,onOpen:I,onClose:m}=L(),{mutateAsync:w,isPending:v}=M(),A=t=>{o(t),I()},F=[{header:"S.N",accessorKey:"sn",cell:({row:t})=>a.jsxs(r,{children:[" ",i*(l-1)+(t.index+1)," "]}),enableSorting:!1},{header:"Name",accessorKey:"name",cell:({row:t})=>a.jsxs(r,{textTransform:"capitalize",fontWeight:500,children:[t.original.name," "]})},{header:"Description",accessorKey:"description",cell:({row:t})=>a.jsx(r,{wordBreak:"break-word",textOverflow:"ellipsis",noOfLines:2,textTransform:"capitalize",fontWeight:500,maxW:"300px",children:t.original.description}),enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>a.jsx(W,{align:"center",children:a.jsx(H,{objectFit:"cover",src:t.original.image,boxSize:10})}),enableSorting:!1},{header:"Status",accessorKey:"is_active",enableSorting:!1,cell:({row:t})=>{const{is_active:T,id:k}=t.original;return a.jsx(U,{id:k,isActive:T,model:"category"})}},{header:"Actions",accessorKey:"actions",cell:({row:t})=>a.jsx(_,{children:a.jsx(R,{handleEdit:()=>D(`/category/edit/${t.original.id}`),handleDelete:()=>A(t.original.id)})})}],P=async()=>{c&&(await w({id:c}),m(),o(null))};return a.jsxs(h,{flexDir:"column",gap:4,children:[a.jsx(G,{columns:F,data:(e==null?void 0:e.data.rows)??[],isLoading:b,count:(e==null?void 0:e.data.count)??0,filter:{globalFilter:y,setGlobalFilter:d},pagination:(e==null?void 0:e.data.count)??!1?{manual:!0,pageCount:(p=(g=e==null?void 0:e.data)==null?void 0:g.pagination)==null?void 0:p.last_page,totalRows:(x=(u=e==null?void 0:e.data)==null?void 0:u.pagination)==null?void 0:x.total,pageParams:{pageIndex:l,pageSize:i}}:void 0,children:a.jsxs(h,{justify:"space-between",align:"center",children:[a.jsx($,{placeholder:"Search Category",maxW:"300px",onSearch:d}),a.jsx(O,{as:E,to:"/category/add",leftIcon:a.jsx(N,{as:B,boxSize:5}),size:"lg",children:"Add"})]})}),a.jsx(q,{isOpen:C,onClose:()=>{m(),o(null)},onDelete:P,heading:"Delete Category",isDeleting:v,message:"Are you sure you want to delete this category?"})]})};export{de as default};
