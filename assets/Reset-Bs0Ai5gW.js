import{m as b,l as h,r as m,j as s,C as g,F as j,n as k}from"./index-KBM8R8LS.js";import{u as y,T as d}from"./index-wimdqAz_.js";import"./lodash-RJGComSW.js";import{u as R}from"./useGetErrors-Bhs_yQR9.js";import{c as S}from"./service-user-RTBQsP0U.js";import{u as q}from"./boxProps-CyTGHnDg.js";import"./inputProps-Dl7gHUhT.js";import"./service-form-methods-B0_ayLo8.js";const D=()=>{const u=b(),r=new URLSearchParams(u.search),o=r.get("token"),e=r.get("email");console.log({token:o,email:e});const l={password:"",password_confirmation:"",token:o,email:e},p=h(),{control:t,handleSubmit:w}=y({defaultValues:l}),{mutateAsync:f,isError:a,error:n,isPending:x}=S(),[i,c]=m.useState({});m.useEffect(()=>{c(a?R(n):{})},[a,n]);const E=async P=>{(await f({data:P})).data.status&&p("/login")};return s.jsx(g,{h:"100dvh",w:"full",children:s.jsxs(j,{...q(),as:"form",onSubmit:w(E),flexDirection:"column",children:[s.jsx(d,{label:"Password",isRequired:!0,placeholder:"Enter New Password",control:t,name:"password",type:"password",backendError:i.password}),s.jsx(d,{label:"Confirm Password",isRequired:!0,placeholder:"Enter New Password Again",control:t,name:"password_confirmation",type:"password",backendError:i.password_confirmation}),s.jsx(k,{w:"full",type:"submit",isLoading:x,children:"Submit"})]})})};export{D as default};
