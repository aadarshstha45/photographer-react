import{m as k,r as s,l as L,k as C,j as a,F as h,n as E,L as _,I as N,T as r,S as O,H as R}from"./index-BCCTcgx6.js";import{A as H}from"./index-Gd0AZThX.js";import{I as U,a as w}from"./Plus-BKTAK1hg.js";import{S as B}from"./StatusSwitch-rGlFPW9r.js";import{D as G,S as $}from"./Table-DqyrWlvT.js";import{D as q}from"./DeleteAlert-DLY7ssEy.js";import{u as J,a as M}from"./service-work-D8JKXQsk.js";import"./Trash-BrfYktzD.js";import"./service-form-methods-D_Zmy-SD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./inputProps-D-yLYbQ0.js";import"./lodash-3m1QihGc.js";import"./modal-overlay-BNaY8ztX.js";import"./tslib.es6-KGZ4s6vb.js";const de=()=>{var u,g,p,x;const S=k(),f=new URLSearchParams(S.search),i=Number(f.get("page"))||1,[l,j]=s.useState(1),[n,Q]=s.useState(10);s.useEffect(()=>{j(i)},[i]);const{data:e,isPending:y}=J({page:i,perPage:n}),D=L(),[c,o]=s.useState(null),[b,d]=s.useState(""),{isOpen:I,onOpen:W,onClose:m}=C(),{mutateAsync:A,isPending:T}=M(),v=t=>{o(t),W()},z=[{header:"S.N",accessorKey:"sn",cell:({row:t})=>a.jsxs(r,{children:[" ",n*(l-1)+(t.index+1)," "]}),enableSorting:!1},{header:"Title",accessorKey:"title",cell:({row:t})=>a.jsxs(r,{textTransform:"capitalize",fontWeight:500,children:[t.original.title," "]})},{header:"Description",accessorKey:"description",maxSize:500,cell:({row:t})=>a.jsxs(r,{textTransform:"capitalize",fontWeight:500,children:[t.original.description," "]}),enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>a.jsx(O,{align:"center",children:a.jsx(w,{objectFit:"cover",src:t.original.image,boxSize:10})}),enableSorting:!1},{header:"Status",accessorKey:"is_active",enableSorting:!1,cell:({row:t})=>{const{is_active:P,id:K}=t.original;return a.jsx(B,{id:K,isActive:P,model:"work"})}},{header:"Actions",accessorKey:"actions",cell:({row:t})=>a.jsx(R,{children:a.jsx(H,{handleEdit:()=>D(`/my-works/edit/${t.original.id}`),handleDelete:()=>v(t.original.id)})})}],F=async()=>{c&&(await A({id:c}),m(),o(null))};return a.jsxs(h,{flexDir:"column",gap:4,children:[a.jsx(G,{columns:z,data:(e==null?void 0:e.data.rows)??[],isLoading:y,count:(e==null?void 0:e.data.count)??0,filter:{globalFilter:b,setGlobalFilter:d},pagination:(e==null?void 0:e.data.count)??!1?{manual:!0,pageCount:(g=(u=e==null?void 0:e.data)==null?void 0:u.pagination)==null?void 0:g.last_page,totalRows:(x=(p=e==null?void 0:e.data)==null?void 0:p.pagination)==null?void 0:x.total,pageParams:{pageIndex:l,pageSize:n}}:void 0,children:a.jsxs(h,{justify:"space-between",align:"center",children:[a.jsx($,{placeholder:"Search Work",maxW:"300px",onSearch:d}),a.jsx(E,{as:_,to:"/my-works/add",leftIcon:a.jsx(N,{as:U,boxSize:5}),size:"lg",children:"Add"})]})}),a.jsx(q,{isOpen:I,onClose:()=>{m(),o(null)},onDelete:F,heading:"Delete Work",isDeleting:T,message:"Are you sure you want to delete this work?"})]})};export{de as default};
