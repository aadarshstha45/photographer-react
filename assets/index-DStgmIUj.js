import{m as K,r as s,l as L,k,j as a,F as h,n as E,L as N,I as _,T as r,S as O,H as R}from"./index-KBM8R8LS.js";import{A as W}from"./index-Bl7ftwQm.js";import{I as H,a as U}from"./Plus-DrEXXnyP.js";import{S as B}from"./StatusSwitch-IA-LAlqy.js";import{D as G,S as $}from"./Table-DSFFO46Y.js";import{D as q}from"./DeleteAlert-DJNM4s1G.js";import{u as J,a as M}from"./service-category-CNojOtkN.js";import"./Trash-BqUmz8_B.js";import"./service-form-methods-B0_ayLo8.js";import"./visually-hidden.style-Bfr07Aua.js";import"./inputProps-Dl7gHUhT.js";import"./lodash-RJGComSW.js";import"./modal-overlay-D_rCogN8.js";import"./tslib.es6-KGZ4s6vb.js";const de=()=>{var g,u,p,x;const S=K(),f=new URLSearchParams(S.search),n=Number(f.get("page"))||1,[l,j]=s.useState(1),[i,Q]=s.useState(10);s.useEffect(()=>{j(n)},[n]);const{data:e,isPending:D}=J({page:n,perPage:i}),b=L(),[c,o]=s.useState(null),[y,d]=s.useState(""),{isOpen:C,onOpen:I,onClose:m}=k(),{mutateAsync:A,isPending:v}=M(),z=t=>{o(t),I()},F=[{header:"S.N",accessorKey:"sn",cell:({row:t})=>a.jsxs(r,{children:[" ",i*(l-1)+(t.index+1)," "]}),enableSorting:!1},{header:"Name",accessorKey:"name",cell:({row:t})=>a.jsxs(r,{textTransform:"capitalize",fontWeight:500,children:[t.original.name," "]})},{header:"Description",accessorKey:"description",maxSize:500,cell:({row:t})=>a.jsxs(r,{textTransform:"capitalize",fontWeight:500,children:[t.original.description," "]}),enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>a.jsx(O,{align:"center",children:a.jsx(U,{objectFit:"cover",src:t.original.image,boxSize:10})}),enableSorting:!1},{header:"Status",accessorKey:"is_active",enableSorting:!1,cell:({row:t})=>{const{is_active:T,id:w}=t.original;return a.jsx(B,{id:w,isActive:T,model:"category"})}},{header:"Actions",accessorKey:"actions",cell:({row:t})=>a.jsx(R,{children:a.jsx(W,{handleEdit:()=>b(`/category/edit/${t.original.id}`),handleDelete:()=>z(t.original.id)})})}],P=async()=>{c&&(await A({id:c}),m(),o(null))};return a.jsxs(h,{flexDir:"column",gap:4,children:[a.jsx(G,{columns:F,data:(e==null?void 0:e.data.rows)??[],isLoading:D,count:(e==null?void 0:e.data.count)??0,filter:{globalFilter:y,setGlobalFilter:d},pagination:(e==null?void 0:e.data.count)??!1?{manual:!0,pageCount:(u=(g=e==null?void 0:e.data)==null?void 0:g.pagination)==null?void 0:u.last_page,totalRows:(x=(p=e==null?void 0:e.data)==null?void 0:p.pagination)==null?void 0:x.total,pageParams:{pageIndex:l,pageSize:i}}:void 0,children:a.jsxs(h,{justify:"space-between",align:"center",children:[a.jsx($,{placeholder:"Search Category",maxW:"300px",onSearch:d}),a.jsx(E,{as:N,to:"/category/add",leftIcon:a.jsx(_,{as:H,boxSize:5}),size:"lg",children:"Add"})]})}),a.jsx(q,{isOpen:C,onClose:()=>{m(),o(null)},onDelete:P,heading:"Delete Category",isDeleting:v,message:"Are you sure you want to delete this category?"})]})};export{de as default};
