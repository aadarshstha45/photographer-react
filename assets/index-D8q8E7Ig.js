import{f as S,j as a,c as A,s as T,v as R,w as q,x as O,A as j,r as h,q as D,F as I,B as y,H as _,t as $}from"./index-BCCTcgx6.js";import{u as N,T as r}from"./index-B5ZJUUTd.js";import"./lodash-3m1QihGc.js";import{u as L}from"./useGetDirtyData-Dc4_-Xhu.js";import{u as U,a as B}from"./service-form-methods-D_Zmy-SD.js";import"./inputProps-D-yLYbQ0.js";const F=S(function(s,i){const{templateAreas:e,gap:d,rowGap:l,columnGap:m,column:t,row:u,autoFlow:c,autoRows:p,templateRows:w,autoColumns:f,templateColumns:x,...g}=s,b={display:"grid",gridTemplateAreas:e,gridGap:d,gridRowGap:l,gridColumnGap:m,gridAutoColumns:f,gridColumn:t,gridRow:u,gridAutoFlow:c,gridAutoRows:p,gridTemplateRows:w,gridTemplateColumns:x};return a.jsx(A.div,{ref:i,__css:b,...g})});F.displayName="Grid";function k(n){return R(n,s=>s==="auto"?"auto":`span ${s}/span ${s}`)}const o=S(function(s,i){const{area:e,colSpan:d,colStart:l,colEnd:m,rowEnd:t,rowSpan:u,rowStart:c,...p}=s,w=T({gridArea:e,gridColumn:k(d),gridRow:k(u),gridColumnStart:l,gridColumnEnd:m,gridRowStart:c,gridRowEnd:t});return a.jsx(A.div,{ref:i,__css:w,...p})});o.displayName="GridItem";const P=S(function(s,i){const{columns:e,spacingX:d,spacingY:l,spacing:m,minChildWidth:t,...u}=s,c=q(),p=t?K(t,c):X(e);return a.jsx(F,{ref:i,gap:m,columnGap:d,rowGap:l,templateColumns:p,...u})});P.displayName="SimpleGrid";function H(n){return typeof n=="number"?`${n}px`:n}function K(n,s){return R(n,i=>{const e=O("sizes",i,H(i))(s);return i===null?null:`repeat(auto-fit, minmax(${e}, 1fr))`})}function X(n){return R(n,s=>s===null?null:`repeat(${s}, minmax(0, 1fr))`)}const Y=()=>U({apiEndpoint:j.Photographer.get,queryKey:["photographer"]}),z=()=>B({apiEndpoint:j.Photographer.update,queryKey:[j.Photographer.update],invalidateEndpoints:["photographer"],message:"Update Succesas"}),ee=()=>{const n={name:"",email:"",phone:"",address:"",description:"",facebook:"",instagram:"",youtube:""},[s,i]=h.useState("view"),{data:e,isPending:d}=Y(),{mutateAsync:l,isPending:m}=z(),{control:t,handleSubmit:u,formState:c,reset:p}=N({defaultValues:n});h.useEffect(()=>{var f,x,g,b,G,v,C,E;e!=null&&e.data&&p({name:(f=e==null?void 0:e.data)==null?void 0:f.name,email:(x=e==null?void 0:e.data)==null?void 0:x.email,address:(g=e==null?void 0:e.data)==null?void 0:g.address,phone:(b=e==null?void 0:e.data)==null?void 0:b.phone,description:(G=e==null?void 0:e.data)==null?void 0:G.description,facebook:(v=e==null?void 0:e.data)==null?void 0:v.facebook,instagram:(C=e==null?void 0:e.data)==null?void 0:C.instagram,youtube:(E=e==null?void 0:e.data)==null?void 0:E.youtube})},[e==null?void 0:e.data]);const w=async f=>{const x=$(L(c,f));(await l({data:x})).data.status&&i("view")};return d?a.jsx(D,{height:"70dvh",width:"70dvw"}):a.jsxs(I,{flexDir:"column",gap:6,children:[a.jsxs(P,{columns:{base:1,md:2},as:"form",onSubmit:u(w),spacingX:4,id:"profile-form",children:[a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"name",label:"Name",isRequired:!0})}),a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"email",type:"email",label:"Email",isRequired:!0})}),a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"phone",label:"Phone",isRequired:!0})}),a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"address",label:"Address",isRequired:!0})}),a.jsx(o,{colSpan:2,children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"description",label:"Description",type:"textarea",isRequired:!0})}),a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"facebook",label:"Facebook"})}),a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"instagram",label:"Instagram"})}),a.jsx(o,{colSpan:{base:2,md:1},children:a.jsx(r,{isReadOnly:s==="view",control:t,name:"youtube",label:"Youtube"})})]}),s==="view"&&a.jsx(y,{onClick:()=>i("edit"),children:"Edit"}),s==="edit"&&a.jsxs(_,{gap:2,children:[" ",a.jsx(y,{isLoading:m,type:"submit",form:"profile-form",children:"Save Changes"}),a.jsx(y,{onClick:()=>i("view"),variant:"outline",children:"Cancel"})]})]})};export{ee as default};
